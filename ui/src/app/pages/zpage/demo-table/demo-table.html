<div class="normal-table-wrap">
  <app-card-table-wrap [btnTpl]="tableBtns" [isNormalTable]="false" [tableTitle]="'资源列表'" (reload)="reloadTable()">
    <nz-table
      #rowSelectionTable
      nzShowPagination
      nzShowSizeChanger
      [nzData]="listOfData"
      [nzLoading]="loading"
      [nzTotal]="total"
      [nzPageIndex]="pageIndex"
      [nzPageSize]="pageSize"
      (nzQueryParams)="onQueryParamsChange($event)"
    >
      <thead>
        <tr>
          <th nzLabel="Select all" [nzChecked]="checked" [nzIndeterminate]="indeterminate" (nzCheckedChange)="onAllChecked($event)"></th>
          <th [nzSortFn]="true">method</th>
          <th [nzSortFn]="true">path</th>
          <th [nzSortFn]="true">description</th>
        </tr>
      </thead>
      <tbody>
        @for (data of rowSelectionTable.data; track data) {
          <tr>
            <td [nzChecked]="setOfCheckedId.has(data.id!!)"></td>
            <td>{{ data.method }}</td>
            <td>{{ data.path }}</td>
            <td>{{ data.description }}</td>
          </tr>
        }
      </tbody>
    </nz-table>
  </app-card-table-wrap>
</div>
<ng-template #tableBtns>
  <button class="m-r-8" nz-button nzType="primary" (click)="add()">
    <i nz-icon nzType="plus"></i>
    新建
  </button>
  <button class="m-r-8" nz-button nzType="default" (click)="allDel()">
    <i nz-icon nzType="delete"></i>
    批量删除
  </button>
  <button nz-button nzType="default" (click)="reloadTable()">
    <i nz-icon nzType="redo"></i>
    reloadTable
  </button>
</ng-template>
